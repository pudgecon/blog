---
layout: post
title: "First Post   使用个性中文域名绑定GitHub博客"
description: "使用个性中文域名绑定GitHub博客 相关要点"
category: 'others'
tags: ['github', 'blog', 'domain', '博客', '中文域名']
---
{% include JB/setup %}

一直想要一个属于自己的个性域名。碰巧听说[中国万网](http://www.net.cn)有活动，就“斥资”买下属于我的个性域名[王文波.中国（王文波.cn）](http://www.王文波.cn)。其实我想买英文域名的，但是实在是手慢了。被人抢注了。

这个过程碰到许多问题，在此写下来与大家分享。

## 首先注册域名的过程

这个过程相对简单，[中国万网](http://www.net.cn)的姓名域名8元/年，其实不算贵，买多少年随意。

`注册`、`登录`，选择`导航条`第二项`域名注册`，有英文的姓名域名和中文的姓名域名。输入姓名与域名，相关注意事宜页面写清楚了。不一定是姓名全拼，也可以与其相关，但必须包含完整的全拼。抢注完成，支付。

其后就是等待`审核`，期间需要上传身份证正面相片，同时也会有工作人员打过来与你联系。

审核通过之后，需要`备案`。

由于我是用来绑定Github博客的，因此需要提交`《关于域名用于非网站用途的承诺书》`。打印之后签名，拍照，上传，等待。由于我心急着想看到结果，因此手抄了一份承诺书，签了个字，立马上传了。哈哈。

审核通过之后，就可以着手准备绑定Github博客了。

Github博客模板的话，有许多。我用的是[jekyll](http://jekyllbootstrap.com/)，具体使用不在这篇讨论。建好仓库(repository)之后，push博客上去。repository名称用的是

    username.github.com

username用的是你在Github上注册的用户名。例如我的博客repository名称为[pudgecon.github.com](http://pudgecon.github.com)。

在博客项目下新建一个名为`CNAME`的文件，在里面写上你申请的域名。例如我的CNAME里面写的是

    www.王文波.中国

(这里先这样举例，实际上是有问题的，后面我们继续解释)。

## 设置域名DNS服务器

万网的`域名管理`里有`DNS修改`的功能，选择好域名后，点击DNS修改，我使用的是万网的DNS，所以按他建议的进行设置。

    dns21.hichina.com
    dns22.hichina.com

DNS设置好后，需要一点时间才能生效，但是不用万网说的48小时这么多。

## 设置域名解析

万网的`域名管理`里有`域名解析`的功能，选择好域名后，点击域名解析。如果你提交的资料审核通过后，就可以进行域名解析。

我们选择`高级解析`。

域名解析我们只讨论主两种类型，其他类型没有经过测试，不敢讨论。一种是`A记录`解析类型，一种是`CNAME记录`解析类型。生效时间采用默认方式。

`A记录`解析类型：

    解析类型：A记录
    生效时间（TTL）：1小时
    记录名（RR）：www.王文波.中国
    IP地址：207.97.227.245

`207.97.227.245`为Github的IP地址。

`CNAME记录`解析类型：

    解析类型：CNAME记录
    生效时间（TTL）：1小时
    记录名（RR）：www.王文波.中国
    目标主机：pudgecon.github.com

以上两种方式，我都经过测试，都可以成功，当然，CNAME文件中的内容要与`记录名（RR）`相同。

### 现在问题来了

完成到这里我觉得已经完成了我的域名绑定了。但是实际上，当我访问我的域名(www.王文波.中国)的时候，并不能跳转到我的博客主页，而是跳到了Github的[404页面](http://207.97.227.245)。

到这一步，你就已经意识到，我们域名解析实际上已经配置好了，因为他成功地跳转到了Github的网站上，因此问题可能是出现在我们自己的项目上。

注意到当使用Chrome的时候，访问www.王文波.中国时，它会将我们域名转化为`www.xn--7dvr7nd0f.xn--fiqs8s`，而此时我们CNAME文件中写入的内容是www.王文波.中国，因此可能是我们中文域名的问题了，应该是URI编码的问题，到达Github的时候应该已经变成www.xn--7dvr7nd0f.xn--fiqs8s了，因此修改我们CNAME的内容为www.xn--7dvr7nd0f.xn--fiqs8s，之后push上去，等待Github重新载入，成功了。

自08年中文域名出现之后，注册`.中国`域名的时候可以同时拥有`.cn`的域名，因此我又将CNAME内容改为www.xn--7dvr7nd0f.cn，这样我就可以使用[www.王文波.cn](http://www.王文波.cn)访问我的博客了。

自此，博客搭建完成，欢迎大家来我的博客空间指正错误。

这篇文章有很多相当不专业的词汇，大家看看笑笑就行。如果碰巧给某位带来一点帮助，当倍感欣慰。



转载请注明出处：[www.王文波.cn](www.王文波.cn/2012/08/30/first-post---github)
